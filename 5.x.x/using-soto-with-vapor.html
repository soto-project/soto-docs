<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Using Soto with Vapor  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Using Soto with Vapor  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (54% documented)</p>
        <p class="header-right"><a href="https://github.com/soto-project/soto"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
        Using Soto with Vapor  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="User%20Guides.html">User Guides</a>
          </li>
          <li class="nav-group-name">
            <a href="AWSSDKSwiftCore.html">AWSSDKSwiftCore</a>
          </li>
          <li class="nav-group-name">
            <a href="ACM.html">ACM</a>
          </li>
          <li class="nav-group-name">
            <a href="ACMPCA.html">ACMPCA</a>
          </li>
          <li class="nav-group-name">
            <a href="APIGateway.html">APIGateway</a>
          </li>
          <li class="nav-group-name">
            <a href="AccessAnalyzer.html">AccessAnalyzer</a>
          </li>
          <li class="nav-group-name">
            <a href="AlexaForBusiness.html">AlexaForBusiness</a>
          </li>
          <li class="nav-group-name">
            <a href="Amplify.html">Amplify</a>
          </li>
          <li class="nav-group-name">
            <a href="ApiGatewayManagementApi.html">ApiGatewayManagementApi</a>
          </li>
          <li class="nav-group-name">
            <a href="ApiGatewayV2.html">ApiGatewayV2</a>
          </li>
          <li class="nav-group-name">
            <a href="AppConfig.html">AppConfig</a>
          </li>
          <li class="nav-group-name">
            <a href="AppMesh.html">AppMesh</a>
          </li>
          <li class="nav-group-name">
            <a href="AppStream.html">AppStream</a>
          </li>
          <li class="nav-group-name">
            <a href="AppSync.html">AppSync</a>
          </li>
          <li class="nav-group-name">
            <a href="Appflow.html">Appflow</a>
          </li>
          <li class="nav-group-name">
            <a href="ApplicationAutoScaling.html">ApplicationAutoScaling</a>
          </li>
          <li class="nav-group-name">
            <a href="ApplicationDiscoveryService.html">ApplicationDiscoveryService</a>
          </li>
          <li class="nav-group-name">
            <a href="ApplicationInsights.html">ApplicationInsights</a>
          </li>
          <li class="nav-group-name">
            <a href="Athena.html">Athena</a>
          </li>
          <li class="nav-group-name">
            <a href="AugmentedAIRuntime.html">AugmentedAIRuntime</a>
          </li>
          <li class="nav-group-name">
            <a href="AutoScaling.html">AutoScaling</a>
          </li>
          <li class="nav-group-name">
            <a href="AutoScalingPlans.html">AutoScalingPlans</a>
          </li>
          <li class="nav-group-name">
            <a href="Backup.html">Backup</a>
          </li>
          <li class="nav-group-name">
            <a href="Batch.html">Batch</a>
          </li>
          <li class="nav-group-name">
            <a href="Braket.html">Braket</a>
          </li>
          <li class="nav-group-name">
            <a href="Budgets.html">Budgets</a>
          </li>
          <li class="nav-group-name">
            <a href="Chime.html">Chime</a>
          </li>
          <li class="nav-group-name">
            <a href="Cloud9.html">Cloud9</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudDirectory.html">CloudDirectory</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudFormation.html">CloudFormation</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudFront.html">CloudFront</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudHSM.html">CloudHSM</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudHSMV2.html">CloudHSMV2</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudSearch.html">CloudSearch</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudSearchDomain.html">CloudSearchDomain</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudTrail.html">CloudTrail</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudWatch.html">CloudWatch</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudWatchEvents.html">CloudWatchEvents</a>
          </li>
          <li class="nav-group-name">
            <a href="CloudWatchLogs.html">CloudWatchLogs</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeArtifact.html">CodeArtifact</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeBuild.html">CodeBuild</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeCommit.html">CodeCommit</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeDeploy.html">CodeDeploy</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeGuruProfiler.html">CodeGuruProfiler</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeGuruReviewer.html">CodeGuruReviewer</a>
          </li>
          <li class="nav-group-name">
            <a href="CodePipeline.html">CodePipeline</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeStar.html">CodeStar</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeStarNotifications.html">CodeStarNotifications</a>
          </li>
          <li class="nav-group-name">
            <a href="CodeStarconnections.html">CodeStarconnections</a>
          </li>
          <li class="nav-group-name">
            <a href="CognitoIdentity.html">CognitoIdentity</a>
          </li>
          <li class="nav-group-name">
            <a href="CognitoIdentityProvider.html">CognitoIdentityProvider</a>
          </li>
          <li class="nav-group-name">
            <a href="CognitoSync.html">CognitoSync</a>
          </li>
          <li class="nav-group-name">
            <a href="Comprehend.html">Comprehend</a>
          </li>
          <li class="nav-group-name">
            <a href="ComprehendMedical.html">ComprehendMedical</a>
          </li>
          <li class="nav-group-name">
            <a href="ComputeOptimizer.html">ComputeOptimizer</a>
          </li>
          <li class="nav-group-name">
            <a href="ConfigService.html">ConfigService</a>
          </li>
          <li class="nav-group-name">
            <a href="Connect.html">Connect</a>
          </li>
          <li class="nav-group-name">
            <a href="ConnectParticipant.html">ConnectParticipant</a>
          </li>
          <li class="nav-group-name">
            <a href="CostExplorer.html">CostExplorer</a>
          </li>
          <li class="nav-group-name">
            <a href="CostandUsageReportService.html">CostandUsageReportService</a>
          </li>
          <li class="nav-group-name">
            <a href="DAX.html">DAX</a>
          </li>
          <li class="nav-group-name">
            <a href="DLM.html">DLM</a>
          </li>
          <li class="nav-group-name">
            <a href="DataExchange.html">DataExchange</a>
          </li>
          <li class="nav-group-name">
            <a href="DataPipeline.html">DataPipeline</a>
          </li>
          <li class="nav-group-name">
            <a href="DataSync.html">DataSync</a>
          </li>
          <li class="nav-group-name">
            <a href="DatabaseMigrationService.html">DatabaseMigrationService</a>
          </li>
          <li class="nav-group-name">
            <a href="Detective.html">Detective</a>
          </li>
          <li class="nav-group-name">
            <a href="DeviceFarm.html">DeviceFarm</a>
          </li>
          <li class="nav-group-name">
            <a href="DirectConnect.html">DirectConnect</a>
          </li>
          <li class="nav-group-name">
            <a href="DirectoryService.html">DirectoryService</a>
          </li>
          <li class="nav-group-name">
            <a href="DocDB.html">DocDB</a>
          </li>
          <li class="nav-group-name">
            <a href="DynamoDB.html">DynamoDB</a>
          </li>
          <li class="nav-group-name">
            <a href="DynamoDBStreams.html">DynamoDBStreams</a>
          </li>
          <li class="nav-group-name">
            <a href="EBS.html">EBS</a>
          </li>
          <li class="nav-group-name">
            <a href="EC2.html">EC2</a>
          </li>
          <li class="nav-group-name">
            <a href="EC2InstanceConnect.html">EC2InstanceConnect</a>
          </li>
          <li class="nav-group-name">
            <a href="ECR.html">ECR</a>
          </li>
          <li class="nav-group-name">
            <a href="ECS.html">ECS</a>
          </li>
          <li class="nav-group-name">
            <a href="EFS.html">EFS</a>
          </li>
          <li class="nav-group-name">
            <a href="EKS.html">EKS</a>
          </li>
          <li class="nav-group-name">
            <a href="ELB.html">ELB</a>
          </li>
          <li class="nav-group-name">
            <a href="ELBV2.html">ELBV2</a>
          </li>
          <li class="nav-group-name">
            <a href="EMR.html">EMR</a>
          </li>
          <li class="nav-group-name">
            <a href="ElastiCache.html">ElastiCache</a>
          </li>
          <li class="nav-group-name">
            <a href="ElasticBeanstalk.html">ElasticBeanstalk</a>
          </li>
          <li class="nav-group-name">
            <a href="ElasticInference.html">ElasticInference</a>
          </li>
          <li class="nav-group-name">
            <a href="ElasticTranscoder.html">ElasticTranscoder</a>
          </li>
          <li class="nav-group-name">
            <a href="ElasticsearchService.html">ElasticsearchService</a>
          </li>
          <li class="nav-group-name">
            <a href="EventBridge.html">EventBridge</a>
          </li>
          <li class="nav-group-name">
            <a href="FMS.html">FMS</a>
          </li>
          <li class="nav-group-name">
            <a href="FSx.html">FSx</a>
          </li>
          <li class="nav-group-name">
            <a href="Firehose.html">Firehose</a>
          </li>
          <li class="nav-group-name">
            <a href="ForecastQueryService.html">ForecastQueryService</a>
          </li>
          <li class="nav-group-name">
            <a href="ForecastService.html">ForecastService</a>
          </li>
          <li class="nav-group-name">
            <a href="FraudDetector.html">FraudDetector</a>
          </li>
          <li class="nav-group-name">
            <a href="GameLift.html">GameLift</a>
          </li>
          <li class="nav-group-name">
            <a href="Glacier.html">Glacier</a>
          </li>
          <li class="nav-group-name">
            <a href="GlobalAccelerator.html">GlobalAccelerator</a>
          </li>
          <li class="nav-group-name">
            <a href="Glue.html">Glue</a>
          </li>
          <li class="nav-group-name">
            <a href="Greengrass.html">Greengrass</a>
          </li>
          <li class="nav-group-name">
            <a href="GroundStation.html">GroundStation</a>
          </li>
          <li class="nav-group-name">
            <a href="GuardDuty.html">GuardDuty</a>
          </li>
          <li class="nav-group-name">
            <a href="Health.html">Health</a>
          </li>
          <li class="nav-group-name">
            <a href="Honeycode.html">Honeycode</a>
          </li>
          <li class="nav-group-name">
            <a href="IAM.html">IAM</a>
          </li>
          <li class="nav-group-name">
            <a href="IVS.html">IVS</a>
          </li>
          <li class="nav-group-name">
            <a href="IdentityStore.html">IdentityStore</a>
          </li>
          <li class="nav-group-name">
            <a href="Imagebuilder.html">Imagebuilder</a>
          </li>
          <li class="nav-group-name">
            <a href="ImportExport.html">ImportExport</a>
          </li>
          <li class="nav-group-name">
            <a href="Inspector.html">Inspector</a>
          </li>
          <li class="nav-group-name">
            <a href="IoT.html">IoT</a>
          </li>
          <li class="nav-group-name">
            <a href="IoT1ClickDevicesService.html">IoT1ClickDevicesService</a>
          </li>
          <li class="nav-group-name">
            <a href="IoT1ClickProjects.html">IoT1ClickProjects</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTAnalytics.html">IoTAnalytics</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTDataPlane.html">IoTDataPlane</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTEvents.html">IoTEvents</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTEventsData.html">IoTEventsData</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTJobsDataPlane.html">IoTJobsDataPlane</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTSecureTunneling.html">IoTSecureTunneling</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTSiteWise.html">IoTSiteWise</a>
          </li>
          <li class="nav-group-name">
            <a href="IoTThingsGraph.html">IoTThingsGraph</a>
          </li>
          <li class="nav-group-name">
            <a href="KMS.html">KMS</a>
          </li>
          <li class="nav-group-name">
            <a href="Kafka.html">Kafka</a>
          </li>
          <li class="nav-group-name">
            <a href="Kendra.html">Kendra</a>
          </li>
          <li class="nav-group-name">
            <a href="Kinesis.html">Kinesis</a>
          </li>
          <li class="nav-group-name">
            <a href="KinesisAnalytics.html">KinesisAnalytics</a>
          </li>
          <li class="nav-group-name">
            <a href="KinesisAnalyticsV2.html">KinesisAnalyticsV2</a>
          </li>
          <li class="nav-group-name">
            <a href="KinesisVideo.html">KinesisVideo</a>
          </li>
          <li class="nav-group-name">
            <a href="KinesisVideoArchivedMedia.html">KinesisVideoArchivedMedia</a>
          </li>
          <li class="nav-group-name">
            <a href="KinesisVideoMedia.html">KinesisVideoMedia</a>
          </li>
          <li class="nav-group-name">
            <a href="KinesisVideoSignalingChannels.html">KinesisVideoSignalingChannels</a>
          </li>
          <li class="nav-group-name">
            <a href="LakeFormation.html">LakeFormation</a>
          </li>
          <li class="nav-group-name">
            <a href="Lambda.html">Lambda</a>
          </li>
          <li class="nav-group-name">
            <a href="LexModelBuildingService.html">LexModelBuildingService</a>
          </li>
          <li class="nav-group-name">
            <a href="LexRuntimeService.html">LexRuntimeService</a>
          </li>
          <li class="nav-group-name">
            <a href="LicenseManager.html">LicenseManager</a>
          </li>
          <li class="nav-group-name">
            <a href="Lightsail.html">Lightsail</a>
          </li>
          <li class="nav-group-name">
            <a href="MQ.html">MQ</a>
          </li>
          <li class="nav-group-name">
            <a href="MTurk.html">MTurk</a>
          </li>
          <li class="nav-group-name">
            <a href="MachineLearning.html">MachineLearning</a>
          </li>
          <li class="nav-group-name">
            <a href="Macie.html">Macie</a>
          </li>
          <li class="nav-group-name">
            <a href="Macie2.html">Macie2</a>
          </li>
          <li class="nav-group-name">
            <a href="ManagedBlockchain.html">ManagedBlockchain</a>
          </li>
          <li class="nav-group-name">
            <a href="MarketplaceCatalog.html">MarketplaceCatalog</a>
          </li>
          <li class="nav-group-name">
            <a href="MarketplaceCommerceAnalytics.html">MarketplaceCommerceAnalytics</a>
          </li>
          <li class="nav-group-name">
            <a href="MarketplaceEntitlementService.html">MarketplaceEntitlementService</a>
          </li>
          <li class="nav-group-name">
            <a href="MarketplaceMetering.html">MarketplaceMetering</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaConnect.html">MediaConnect</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaConvert.html">MediaConvert</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaLive.html">MediaLive</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaPackage.html">MediaPackage</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaPackageVod.html">MediaPackageVod</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaStore.html">MediaStore</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaStoreData.html">MediaStoreData</a>
          </li>
          <li class="nav-group-name">
            <a href="MediaTailor.html">MediaTailor</a>
          </li>
          <li class="nav-group-name">
            <a href="MigrationHub.html">MigrationHub</a>
          </li>
          <li class="nav-group-name">
            <a href="MigrationHubConfig.html">MigrationHubConfig</a>
          </li>
          <li class="nav-group-name">
            <a href="Mobile.html">Mobile</a>
          </li>
          <li class="nav-group-name">
            <a href="MobileAnalytics.html">MobileAnalytics</a>
          </li>
          <li class="nav-group-name">
            <a href="Neptune.html">Neptune</a>
          </li>
          <li class="nav-group-name">
            <a href="NetworkManager.html">NetworkManager</a>
          </li>
          <li class="nav-group-name">
            <a href="OpsWorks.html">OpsWorks</a>
          </li>
          <li class="nav-group-name">
            <a href="OpsWorksCM.html">OpsWorksCM</a>
          </li>
          <li class="nav-group-name">
            <a href="Organizations.html">Organizations</a>
          </li>
          <li class="nav-group-name">
            <a href="Outposts.html">Outposts</a>
          </li>
          <li class="nav-group-name">
            <a href="PI.html">PI</a>
          </li>
          <li class="nav-group-name">
            <a href="Personalize.html">Personalize</a>
          </li>
          <li class="nav-group-name">
            <a href="PersonalizeEvents.html">PersonalizeEvents</a>
          </li>
          <li class="nav-group-name">
            <a href="PersonalizeRuntime.html">PersonalizeRuntime</a>
          </li>
          <li class="nav-group-name">
            <a href="Pinpoint.html">Pinpoint</a>
          </li>
          <li class="nav-group-name">
            <a href="PinpointEmail.html">PinpointEmail</a>
          </li>
          <li class="nav-group-name">
            <a href="PinpointSMSVoice.html">PinpointSMSVoice</a>
          </li>
          <li class="nav-group-name">
            <a href="Polly.html">Polly</a>
          </li>
          <li class="nav-group-name">
            <a href="Pricing.html">Pricing</a>
          </li>
          <li class="nav-group-name">
            <a href="QLDB.html">QLDB</a>
          </li>
          <li class="nav-group-name">
            <a href="QLDBSession.html">QLDBSession</a>
          </li>
          <li class="nav-group-name">
            <a href="QuickSight.html">QuickSight</a>
          </li>
          <li class="nav-group-name">
            <a href="RAM.html">RAM</a>
          </li>
          <li class="nav-group-name">
            <a href="RDS.html">RDS</a>
          </li>
          <li class="nav-group-name">
            <a href="RDSDataService.html">RDSDataService</a>
          </li>
          <li class="nav-group-name">
            <a href="Redshift.html">Redshift</a>
          </li>
          <li class="nav-group-name">
            <a href="RedshiftDataAPIService.html">RedshiftDataAPIService</a>
          </li>
          <li class="nav-group-name">
            <a href="Rekognition.html">Rekognition</a>
          </li>
          <li class="nav-group-name">
            <a href="ResourceGroups.html">ResourceGroups</a>
          </li>
          <li class="nav-group-name">
            <a href="ResourceGroupsTaggingAPI.html">ResourceGroupsTaggingAPI</a>
          </li>
          <li class="nav-group-name">
            <a href="RoboMaker.html">RoboMaker</a>
          </li>
          <li class="nav-group-name">
            <a href="Route53.html">Route53</a>
          </li>
          <li class="nav-group-name">
            <a href="Route53Domains.html">Route53Domains</a>
          </li>
          <li class="nav-group-name">
            <a href="Route53Resolver.html">Route53Resolver</a>
          </li>
          <li class="nav-group-name">
            <a href="S3.html">S3</a>
          </li>
          <li class="nav-group-name">
            <a href="S3Control.html">S3Control</a>
          </li>
          <li class="nav-group-name">
            <a href="SES.html">SES</a>
          </li>
          <li class="nav-group-name">
            <a href="SESV2.html">SESV2</a>
          </li>
          <li class="nav-group-name">
            <a href="SFN.html">SFN</a>
          </li>
          <li class="nav-group-name">
            <a href="SMS.html">SMS</a>
          </li>
          <li class="nav-group-name">
            <a href="SNS.html">SNS</a>
          </li>
          <li class="nav-group-name">
            <a href="SQS.html">SQS</a>
          </li>
          <li class="nav-group-name">
            <a href="SSM.html">SSM</a>
          </li>
          <li class="nav-group-name">
            <a href="SSO.html">SSO</a>
          </li>
          <li class="nav-group-name">
            <a href="SSOAdmin.html">SSOAdmin</a>
          </li>
          <li class="nav-group-name">
            <a href="SSOOIDC.html">SSOOIDC</a>
          </li>
          <li class="nav-group-name">
            <a href="STS.html">STS</a>
          </li>
          <li class="nav-group-name">
            <a href="SWF.html">SWF</a>
          </li>
          <li class="nav-group-name">
            <a href="SageMaker.html">SageMaker</a>
          </li>
          <li class="nav-group-name">
            <a href="SageMakerRuntime.html">SageMakerRuntime</a>
          </li>
          <li class="nav-group-name">
            <a href="SavingsPlans.html">SavingsPlans</a>
          </li>
          <li class="nav-group-name">
            <a href="Schemas.html">Schemas</a>
          </li>
          <li class="nav-group-name">
            <a href="SecretsManager.html">SecretsManager</a>
          </li>
          <li class="nav-group-name">
            <a href="SecurityHub.html">SecurityHub</a>
          </li>
          <li class="nav-group-name">
            <a href="ServerlessApplicationRepository.html">ServerlessApplicationRepository</a>
          </li>
          <li class="nav-group-name">
            <a href="ServiceCatalog.html">ServiceCatalog</a>
          </li>
          <li class="nav-group-name">
            <a href="ServiceDiscovery.html">ServiceDiscovery</a>
          </li>
          <li class="nav-group-name">
            <a href="ServiceQuotas.html">ServiceQuotas</a>
          </li>
          <li class="nav-group-name">
            <a href="Shield.html">Shield</a>
          </li>
          <li class="nav-group-name">
            <a href="Signer.html">Signer</a>
          </li>
          <li class="nav-group-name">
            <a href="SimpleDB.html">SimpleDB</a>
          </li>
          <li class="nav-group-name">
            <a href="Snowball.html">Snowball</a>
          </li>
          <li class="nav-group-name">
            <a href="StorageGateway.html">StorageGateway</a>
          </li>
          <li class="nav-group-name">
            <a href="Support.html">Support</a>
          </li>
          <li class="nav-group-name">
            <a href="Synthetics.html">Synthetics</a>
          </li>
          <li class="nav-group-name">
            <a href="Textract.html">Textract</a>
          </li>
          <li class="nav-group-name">
            <a href="TranscribeService.html">TranscribeService</a>
          </li>
          <li class="nav-group-name">
            <a href="TranscribeStreamingService.html">TranscribeStreamingService</a>
          </li>
          <li class="nav-group-name">
            <a href="Transfer.html">Transfer</a>
          </li>
          <li class="nav-group-name">
            <a href="Translate.html">Translate</a>
          </li>
          <li class="nav-group-name">
            <a href="WAF.html">WAF</a>
          </li>
          <li class="nav-group-name">
            <a href="WAFRegional.html">WAFRegional</a>
          </li>
          <li class="nav-group-name">
            <a href="WAFV2.html">WAFV2</a>
          </li>
          <li class="nav-group-name">
            <a href="WorkDocs.html">WorkDocs</a>
          </li>
          <li class="nav-group-name">
            <a href="WorkLink.html">WorkLink</a>
          </li>
          <li class="nav-group-name">
            <a href="WorkMail.html">WorkMail</a>
          </li>
          <li class="nav-group-name">
            <a href="WorkMailMessageFlow.html">WorkMailMessageFlow</a>
          </li>
          <li class="nav-group-name">
            <a href="WorkSpaces.html">WorkSpaces</a>
          </li>
          <li class="nav-group-name">
            <a href="XRay.html">XRay</a>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Classes.html">Other Classes</a>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Enums.html">Other Enumerations</a>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Extensions.html">Other Extensions</a>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Protocols.html">Other Protocols</a>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Structs.html">Other Structures</a>
          </li>
          <li class="nav-group-name">
            <a href="Other%20Typealiases.html">Other Type Aliases</a>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='using-soto-with-vapor-4' class='heading'>Using Soto with Vapor 4</h1>

<p>When using Soto with Vapor 4 it is best to have a global <code><a href="Classes/AWSClient.html">AWSClient</a></code> that all routes use. You shouldn&rsquo;t be creating <code><a href="Classes/AWSClient.html">AWSClient</a></code> on the fly. Initialisation of the client can take time and you have to shutdown the client before it is deleted. You best option is to store a single <code><a href="Classes/AWSClient.html">AWSClient</a></code> in the Vapor <code>Application</code>. The code below shows how you can extend <code>Application</code> to provide a global <code><a href="Classes/AWSClient.html">AWSClient</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Vapor</span>

<span class="kd">public</span> <span class="kd">extension</span> <span class="kt">Application</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">aws</span><span class="p">:</span> <span class="kt">AWS</span> <span class="p">{</span>
        <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">application</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">struct</span> <span class="kt">AWS</span> <span class="p">{</span>
        <span class="kd">struct</span> <span class="kt">ClientKey</span><span class="p">:</span> <span class="kt">StorageKey</span> <span class="p">{</span>
            <span class="kd">typealias</span> <span class="kt">Value</span> <span class="o">=</span> <span class="kt">AWSClient</span>
        <span class="p">}</span>

        <span class="kd">public</span> <span class="k">var</span> <span class="nv">client</span><span class="p">:</span> <span class="kt">AWSClient</span> <span class="p">{</span>
            <span class="k">get</span> <span class="p">{</span>
                <span class="k">guard</span> <span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="kt">ClientKey</span><span class="o">.</span><span class="k">self</span><span class="p">]</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="nf">fatalError</span><span class="p">(</span><span class="s">"AWSClient not setup. Use application.aws.client = ..."</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="n">client</span>
            <span class="p">}</span>
            <span class="k">nonmutating</span> <span class="k">set</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="nf">set</span><span class="p">(</span><span class="kt">ClientKey</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="n">newValue</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">try</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">syncShutdown</span><span class="p">()</span>
                <span class="p">}</span>            
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">let</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">Application</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>And extend <code>Request</code> to provide access to this <code><a href="Classes/AWSClient.html">AWSClient</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">extension</span> <span class="kt">Request</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">aws</span><span class="p">:</span> <span class="kt">AWS</span> <span class="p">{</span>
        <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">struct</span> <span class="kt">AWS</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">client</span><span class="p">:</span> <span class="kt">AWSClient</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">aws</span><span class="o">.</span><span class="n">client</span>
        <span class="p">}</span>

        <span class="k">let</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">Request</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>

<p>Once you have this you can then initalise your client in the <code>configure(_ app: Application)</code> function found in <code>configure.swift</code>. The code below initialises an <code><a href="Classes/AWSClient.html">AWSClient</a></code> to use the shared <code>HTTPClient</code> that Vapor uses.</p>
<pre class="highlight swift"><code><span class="n">app</span><span class="o">.</span><span class="n">aws</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="kt">AWSClient</span><span class="p">(</span><span class="nv">httpClientProvider</span><span class="p">:</span> <span class="o">.</span><span class="nf">shared</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">shared</span><span class="p">))</span>
</code></pre>

<p>And then in all your routes you can access the <code><a href="Classes/AWSClient.html">AWSClient</a></code> as follows</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">myRoute</span><span class="p">(</span><span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;&gt;</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="n">aws</span><span class="o">.</span><span class="n">client</span>
    <span class="k">let</span> <span class="nv">s3</span> <span class="o">=</span> <span class="kt">S3</span><span class="p">(</span><span class="nv">client</span><span class="p">:</span> <span class="n">client</span><span class="p">,</span> <span class="nv">region</span><span class="p">:</span> <span class="o">.</span><span class="n">useast1</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Alternatively you can also include your service structs in the <code>Application</code> as well.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SotoS3</span>

<span class="kd">extension</span> <span class="kt">Application</span><span class="o">.</span><span class="kt">AWS</span> <span class="p">{</span>
    <span class="kd">struct</span> <span class="kt">S3Key</span><span class="p">:</span> <span class="kt">StorageKey</span> <span class="p">{</span>
        <span class="kd">typealias</span> <span class="kt">Value</span> <span class="o">=</span> <span class="kt">S3</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="k">var</span> <span class="nv">s3</span><span class="p">:</span> <span class="kt">S3</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">s3</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="kt">S3Key</span><span class="o">.</span><span class="k">self</span><span class="p">]</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nf">fatalError</span><span class="p">(</span><span class="s">"S3 not setup. Use application.aws.s3 = ..."</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">s3</span>
        <span class="p">}</span>
        <span class="k">nonmutating</span> <span class="k">set</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="kt">S3Key</span><span class="o">.</span><span class="k">self</span><span class="p">]</span> <span class="o">=</span> <span class="n">newValue</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>And provide access to them through <code>Request</code></p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">extension</span> <span class="kt">Request</span><span class="o">.</span><span class="kt">AWS</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">s3</span><span class="p">:</span> <span class="kt">S3</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">aws</span><span class="o">.</span><span class="n">s3</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='example' class='heading'>Example</h2>

<p>If you have extended your Vapor <code>Application</code> as above and also included an <code><a href="Structs/SES.html">SES</a></code> (Simple Email Service) service object in the <code>Application</code> in a similar way to the example above with <code><a href="Structs/S3.html">S3</a></code> you could write a route to send an email as follows</p>
<pre class="highlight swift"><code><span class="kd">final</span> <span class="kd">class</span> <span class="kt">MyController</span> <span class="p">{</span>
    <span class="kd">struct</span> <span class="kt">EmailData</span><span class="p">:</span> <span class="kt">Content</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">String</span>
        <span class="k">let</span> <span class="nv">subject</span><span class="p">:</span> <span class="kt">String</span>
        <span class="k">let</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">sendUserEmailFromJSON</span><span class="p">(</span><span class="n">_</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">HTTPStatus</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">emailData</span> <span class="o">=</span> <span class="k">try</span> <span class="n">req</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">EmailData</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">destination</span> <span class="o">=</span> <span class="kt">SES</span><span class="o">.</span><span class="kt">Destination</span><span class="p">(</span><span class="nv">toAddresses</span><span class="p">:</span> <span class="p">[</span><span class="n">emailData</span><span class="o">.</span><span class="n">address</span><span class="p">])</span>
        <span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="kt">SES</span><span class="o">.</span><span class="kt">Message</span><span class="p">(</span><span class="nv">body</span><span class="p">:</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span><span class="kt">SES</span><span class="o">.</span><span class="kt">Content</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span><span class="n">emailData</span><span class="o">.</span><span class="n">message</span><span class="p">)),</span> <span class="nv">subject</span><span class="p">:</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span><span class="n">emailData</span><span class="o">.</span><span class="n">subject</span><span class="p">))</span>
        <span class="k">let</span> <span class="nv">sendEmailRequest</span> <span class="o">=</span> <span class="kt">SES</span><span class="o">.</span><span class="kt">SendEmailRequest</span><span class="p">(</span><span class="nv">destination</span><span class="p">:</span> <span class="n">destination</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span> <span class="nv">source</span><span class="p">:</span><span class="s">"soto@me.com"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">ses</span><span class="o">.</span><span class="nf">sendEmail</span><span class="p">(</span><span class="n">sendEmailRequest</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="o">.</span><span class="n">eventLoop</span><span class="p">)</span>
            <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">response</span> <span class="o">-&gt;</span> <span class="kt">HTTPStatus</span> <span class="k">in</span>
                <span class="k">return</span> <span class="o">.</span><span class="n">ok</span>
            <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>© Copyright (c) 2020 Yuki Takei(noppoMan), Joe Smith(Yasumoto), Jonathan McAllister(jonnymacs), Adam Fowler(adam-fowler), Fabian Fett(fabianfett)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
